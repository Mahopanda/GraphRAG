<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GraphRAG Visualization</title>
    <script
      type="text/javascript"
      src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"
      onerror="(function(){var s=document.createElement('script');s.src='https://cdn.jsdelivr.net/npm/vis-network@9.1.9/standalone/umd/vis-network.min.js';document.head.appendChild(s);})();"
    ></script>
    <style type="text/css">
      html,
      body {
        font-family: Arial, sans-serif;
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #f0f2f5;
      }
      #graph-container {
        width: 100%;
        height: 100%;
        position: relative;
      }
      #mynetwork {
        width: 100%;
        height: 100%;
        border: 1px solid lightgray;
      }
      #loading-bar {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #333;
        font-size: 24px;
      }
      #query-container {
        position: absolute;
        top: 10px;
        left: 10px;
        right: 10px;
        padding: 10px;
        background-color: rgba(255, 255, 255, 0.9);
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        display: flex;
        gap: 10px;
        z-index: 10;
      }
      #query-input {
        flex-grow: 1;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 16px;
      }
      #query-button {
        padding: 8px 16px;
        border: none;
        background-color: #4caf50;
        color: white;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
      }
      #query-button:hover {
        background-color: #45a049;
      }
      #results-container {
        position: absolute;
        bottom: 10px;
        left: 10px;
        right: 10px;
        max-height: 35%;
        padding: 15px;
        background-color: rgba(255, 255, 255, 0.95);
        border-radius: 8px;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        overflow-y: auto;
        z-index: 10;
        display: none; /* Initially hidden */
      }
      #results-container h2 {
        margin-top: 0;
      }
      #results-content {
        word-wrap: break-word;
        word-break: break-word;
        white-space: pre-wrap;
        line-height: 1.5;
      }
      #results-content p {
        margin: 0 0 10px 0;
        word-wrap: break-word;
        word-break: break-word;
        white-space: pre-wrap;
      }
      #results-content pre {
        white-space: pre-wrap;
        word-wrap: break-word;
        overflow-wrap: break-word;
        max-width: 100%;
      }
      #results-content hr {
        margin: 8px 0;
        border: none;
        border-top: 1px solid #ddd;
      }
      #results-content h4 {
        margin: 8px 0 5px 0;
        font-size: 14px;
        color: #333;
      }
      .spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #3498db;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        animation: spin 1s linear infinite;
        margin-right: 10px;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Tooltip 樣式 - 支援長文本換行 */
      .vis-tooltip {
        max-width: 400px !important;
        word-wrap: break-word !important;
        word-break: break-word !important;
        white-space: normal !important;
        line-height: 1.4 !important;
        font-size: 12px !important;
        padding: 8px !important;
        background-color: rgba(0, 0, 0, 0.8) !important;
        color: white !important;
        border-radius: 4px !important;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) !important;
      }
    </style>
  </head>
  <body>
    <div id="query-container">
      <input
        type="text"
        id="query-input"
        placeholder="Ask a question about the graph..."
      />
      <button id="query-button">Search</button>
    </div>

    <div id="graph-container">
      <div id="mynetwork"></div>
      <div id="loading-bar">Loading graph...</div>
    </div>

    <div id="results-container">
      <h2 id="results-title">Answer</h2>
      <div id="results-content"></div>
    </div>

    <script type="text/javascript">
      const graphData = {
  "nodes": [
    {
      "id": "林沖",
      "label": "林沖",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 禁軍遭配到此，殺了王倫，欲立晁蓋為山寨之主，自坐第四位，無學無才，無智無術，只會些鎗棒而已。 <SEP> 與晁蓋、吳用、公孫勝飲酒至天明。晁蓋道：「我等今日初到山寨，當初只指望逃災避難，投托王倫帳下，為一小頭目；多感林教頭賢弟推讓我為尊，不想連得了兩場喜事：第一贏得官軍，收得許多人馬船隻，捉了黃安；二乃又得了若干財物金銀。此不是皆托眾弟兄的才能？」",
      "group": "PERSON"
    },
    {
      "id": "王倫",
      "label": "王倫",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 心胸狹隘，嫉賢妒能，被林沖殺了。 <SEP> 晁蓋等人曾投托其帳下。",
      "group": "PERSON"
    },
    {
      "id": "晁蓋",
      "label": "晁蓋",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 仗義疏財，智勇足備，被推舉為山寨之主，坐第一位，姓晁，名蓋。 <SEP> 朱頭領探聽得一起客商，有數十人結聯一處，今晚必從旱路經過，特來報知。晁蓋道：「正沒金帛使用，誰領人去走一遭？」三阮道：「我弟兄們去。」晁蓋道：「好兄弟，小心在意，速去早來。」三阮便下廳去，換了衣裳，跨了腰刀，拿了朴刀、欓叉、留客住，點起一百餘人上廳來；別了頭領，便下山，就金沙灘把船載過朱貴酒店裏去了。晁蓋恐三阮擔負不下，又使劉唐點起一百餘人，教領了下山去接應；又吩咐道：「只可善取金帛財物，切不可傷害客商性命。」劉唐去了。晁蓋到三更，不見回報，又使杜遷、宋萬，引五十餘人下山接應。晁蓋與吳用、公孫勝、林沖飲酒至天明，兄見小嘍囉報喜道：「虧得朱頭領，得了二十餘輛車子金銀財物，並四五十匹驢騾頭口。」晁蓋又問道：「不曾殺人麼？」小嘍囉答道：「那許多客人，見我們來得頭勢猛了，都撇下車子、頭口、行李，逃命去了，並不曾傷害他一箇。」晁蓋見說大喜：「我等初到山寨，不可傷害於人。」取一錠白銀，賞了小嘍囉。便叫將了酒果下山來，直接到金沙灘上。見眾頭領盡把車輛扛上岸來，再叫撐船去載頭口馬匹，眾頭領大喜。把盞已畢，教人去請朱貴上山來筵宴。晁蓋等眾頭領，都上到山寨聚義廳上，簸箕掌、栲栳圈坐定。叫小嘍囉扛抬過許多財物在廳上，一包包打開，將綵帛衣服堆在一邊，行貨等物堆在一邊，金銀寶貝堆在正面。眾頭領看了打劫得許多財物，心中歡喜。便叫掌庫的箇小頭目，每樣取一半，收貯在庫，聽候支用。這一半分做兩分：廳上十一位頭領，均分一分；山上山下眾人，均分一分。把這新拿到的軍健臉上，刺了字號，選壯浪的分撥去各寨喂馬砍柴，軟弱的，各處看車切草。黃安鎖在後寨監房內。晁蓋道：「我等今日初到山寨，當初只指望逃災避難，投托王倫帳下，為一小頭目；多感林教頭賢弟推讓我為尊，不想連得了兩場喜事：第一贏得官軍，收得許多人馬船隻，捉了黃安；二乃又得了若干財物金銀。此不是皆托眾弟兄的才能？」眾頭領道：「皆托得大哥哥的福蔭，以此得采。」 <SEP> 梁山泊的首領，與吳用討論事務，並表示對宋押司、朱都頭的感激，以及需要營救白勝。 <SEP> 眾人，犯了大罪，劫了「生辰綱」，殺了做公的，傷了何觀察，又損害了許多官軍人馬，又把黃安活捉上山 <SEP> 落了草，大弄。",
      "group": "PERSON"
    },
    {
      "id": "吳用",
      "label": "吳用",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 村中學究，讀些孫吳兵法，未曾有半粒微功，被安排為軍師，執掌兵權，調用將校，坐第二位。 <SEP> 與晁蓋、公孫勝、林沖飲酒至天明。 <SEP> 與晁蓋討論事務，提出營救白勝的計畫，並負責調撥眾頭領辦事。",
      "group": "PERSON"
    },
    {
      "id": "公孫勝",
      "label": "公孫勝",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 名聞江湖，善能用兵，有鬼神不測之機，呼風喚雨之法，克敵制勝，坐第三位。 <SEP> 與晁蓋、吳用、林沖飲酒至天明。",
      "group": "PERSON"
    },
    {
      "id": "劉唐",
      "label": "劉唐",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被請坐第五位。 <SEP> 被晁蓋點起一百餘人，領了下山去接應。 <SEP> 與宋江別了。",
      "group": "PERSON"
    },
    {
      "id": "阮小二",
      "label": "阮小二",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被請坐第六位。 <SEP> ",
      "group": "PERSON"
    },
    {
      "id": "阮小五",
      "label": "阮小五",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被請坐第七位。 <SEP> ",
      "group": "PERSON"
    },
    {
      "id": "阮小七",
      "label": "阮小七",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被請坐第八位。 <SEP> ",
      "group": "PERSON"
    },
    {
      "id": "杜遷",
      "label": "杜遷",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 本事低微，被請坐第九位。 <SEP> 被晁蓋吩咐引五十餘人下山接應。",
      "group": "PERSON"
    },
    {
      "id": "宋萬",
      "label": "宋萬",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 本事低微，被請坐第十位。 <SEP> 被晁蓋吩咐引五十餘人下山接應。",
      "group": "PERSON"
    },
    {
      "id": "朱貴",
      "label": "朱貴",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被請坐第十一位。",
      "group": "PERSON"
    },
    {
      "id": "山寨",
      "label": "山寨",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 林沖、王倫、晁蓋、吳用、公孫勝等人聚集之地。",
      "group": "LOCATION"
    },
    {
      "id": "大寨",
      "label": "大寨",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 眾人擺下筵席、聚義的地方。",
      "group": "LOCATION"
    },
    {
      "id": "聚義廳",
      "label": "聚義廳",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 晁蓋、林沖、吳用、公孫勝等眾人聚會、上廳、坐定之處。",
      "group": "LOCATION"
    },
    {
      "id": "孫吳兵法",
      "label": "孫吳兵法",
      "title": "<b>類型:</b> LAW<br><b>描述:</b> 吳用讀過的兵法。",
      "group": "LAW"
    },
    {
      "id": "小嘍囉",
      "label": "小嘍囉",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被林沖差遣去大寨裏擺下筵席。 <SEP> 報道：「山下朱頭領使人到寨。」山下朱頭領探聽得一起客商，有數十人結聯一處，今晚必從旱路經過，特來報知。朱頭領，得了二十餘輛車子金銀財物，並四五十匹驢騾頭口。那許多客人，見我們來得頭勢猛了，都撇下車子、頭口、行李，逃命去了，並不曾傷害他一箇。晁蓋見說大喜：「我等初到山寨，不可傷害於人。」取一錠白銀，賞了小嘍囉。便叫將了酒果下山來，直接到金沙灘上。見眾頭領盡把車輛扛上岸來，再叫撐船去載頭口馬匹，眾頭領大喜。把盞已畢，教人去請朱貴上山來筵宴。晁蓋等眾頭領，都上到山寨聚義廳上，簸箕掌、栲栳圈坐定。叫小嘍囉扛抬過許多財物在廳上，一包包打開，將綵帛衣服堆在一邊，行貨等物堆在一邊，金銀寶貝堆在正面。眾頭領看了打劫得許多財物，心中歡喜。便叫掌庫的箇小頭目，每樣取一半，收貯在庫，聽候支用。這一半分做兩分：廳上十一位頭領，均分一分；山上山下眾人，均分一分。把這新拿到的軍健臉上，刺了字號，選壯浪的分撥去各寨喂馬砍柴，軟弱的，各處看車切草。黃安鎖在後寨監房內。晁蓋道：「我等今日初到山寨，當初只指望逃災避難，投托王倫帳下，為一小頭目；多感林教頭賢弟推讓我為尊，不想連得了兩場喜事：第一贏得官軍，收得許多人馬船隻，捉了黃安；二乃又得了若干財物金銀。此不是皆托眾弟兄的才能？」眾頭領道：「皆托得大哥哥的福蔭，以此得采。」",
      "group": "PERSON"
    },
    {
      "id": "聚義廳前",
      "label": "聚義廳前",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 眾人到聚義廳前，下了馬。",
      "group": "LOCATION"
    },
    {
      "id": "黃安",
      "label": "黃安",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 濟州府尹點差團練使，帶領一千餘人，拘集本處船隻，就石碣村湖蕩調撥，分開船隻作兩路來取泊子。帶領人馬上船，搖旗吶喊，殺奔金沙灘來。 <SEP> 被鎖在後寨監房內。晁蓋道：「我等今日初到山寨，當初只指望逃災避難，投托王倫帳下，為一小頭目；多感林教頭賢弟推讓我為尊，不想連得了兩場喜事：第一贏得官軍，收得許多人馬船隻，捉了黃安；二乃又得了若干財物金銀。此不是皆托眾弟兄的才能？」 <SEP> 手下軍人逃回，向濟州府太守報告梁山泊的情況，本人已被梁山泊活捉上山。 <SEP> 晁蓋等眾人劫掠「生辰綱」時被活捉上山",
      "group": "PERSON"
    },
    {
      "id": "石碣村湖蕩",
      "label": "石碣村湖蕩",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 點差團練使黃安就此調撥船隻，分開船隻作兩路來取泊子。",
      "group": "LOCATION"
    },
    {
      "id": "泊子",
      "label": "泊子",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 團練使黃安分開船隻作兩路來取此處。",
      "group": "LOCATION"
    },
    {
      "id": "金沙灘",
      "label": "金沙灘",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 團練使黃安帶領人馬上船，搖旗吶喊，殺奔此處來。 <SEP> 三阮乘船載過朱貴酒店的地方。晁蓋等人酒後曾到此地。",
      "group": "LOCATION"
    },
    {
      "id": "蘆花蕩",
      "label": "蘆花蕩",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 團練使黃安指示將船隻分作兩路，去此處灣住。",
      "group": "LOCATION"
    },
    {
      "id": "濟州府",
      "label": "濟州府",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 府尹點差團練使黃安並本府捕盜官一員，帶領一千餘人，拘集本處船隻，就石碣村湖蕩調撥，分開船隻作兩路來取泊子。 <SEP> 太守對梁山泊的事件感到苦惱，並向太師府幹辦報告。",
      "group": "LOCATION"
    },
    {
      "id": "捕盜官",
      "label": "捕盜官",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 濟州府尹的捕盜官一員，帶領一千餘人，拘集本處船隻，就石碣村湖蕩調撥，分開船隻作兩路來取泊子。",
      "group": "PERSON"
    },
    {
      "id": "船隻",
      "label": "船隻",
      "title": "<b>類型:</b> COMPANY<br><b>描述:</b> 濟州府尹拘集本處船隻，分開船隻作兩路來取泊子。",
      "group": "COMPANY"
    },
    {
      "id": "畫角",
      "label": "畫角",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 水面上嗚嗚咽咽吹將起來的聲音，被黃安辨認為畫角之聲。",
      "group": "AGREEMENT"
    },
    {
      "id": "留客住",
      "label": "留客住",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 三隻船上的五個人，每人手中都拿著留客住。",
      "group": "AGREEMENT"
    },
    {
      "id": "紅羅繡襖",
      "label": "紅羅繡襖",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 三隻船上的五個人，都一樣身穿紅羅繡襖。",
      "group": "AGREEMENT"
    },
    {
      "id": "絳紅巾",
      "label": "絳紅巾",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 三隻船上的立著的人，頭上都戴著絳紅巾。",
      "group": "AGREEMENT"
    },
    {
      "id": "青狐皮",
      "label": "青狐皮",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 三阮從船艙裡拿起一片青狐皮來遮那箭矢。",
      "group": "AGREEMENT"
    },
    {
      "id": "小船",
      "label": "小船",
      "title": "<b>類型:</b> COMPANY<br><b>描述:</b> 一條小船飛也似划來報道。",
      "group": "COMPANY"
    },
    {
      "id": "蘆花蕩邊",
      "label": "蘆花蕩邊",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 他們蘆花蕩邊，尋得這隻小船兒，逕來報與團練。",
      "group": "LOCATION"
    },
    {
      "id": "旱路邊",
      "label": "旱路邊",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 他們逃出來，到旱路邊看時，那岸上人馬皆不見了。",
      "group": "LOCATION"
    },
    {
      "id": "朱頭領",
      "label": "朱頭領",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 探聽得一起客商，有數十人結聯一處，今晚必從旱路經過，特來報知。朱頭領，得了二十餘輛車子金銀財物，並四五十匹驢騾頭口。",
      "group": "PERSON"
    },
    {
      "id": "三阮",
      "label": "三阮",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 答應晁蓋要去走一遭。領了一百餘人換了衣裳，跨了腰刀，拿了朴刀、欓叉、留客住，點起一百餘人上廳來；別了頭領，便下山，就金沙灘把船載過朱貴酒店裏去了。",
      "group": "PERSON"
    },
    {
      "id": "朱貴酒店",
      "label": "朱貴酒店",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 三阮乘船載過的地方。",
      "group": "LOCATION"
    },
    {
      "id": "張氏",
      "label": "張氏",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 與同夥人等，被晁蓋等人打劫。",
      "group": "PERSON"
    },
    {
      "id": "王氏",
      "label": "王氏",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 與同夥人等，被晁蓋等人打劫。",
      "group": "PERSON"
    },
    {
      "id": "李氏",
      "label": "李氏",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 與同夥人等，被晁蓋等人打劫。",
      "group": "PERSON"
    },
    {
      "id": "客商",
      "label": "客商",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被朱頭領探知將於今晚經過。晁蓋等人為取得其金帛財物而行動。",
      "group": "PERSON"
    },
    {
      "id": "杜遷、宋萬",
      "label": "杜遷、宋萬",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 帶領五十餘人下山接應。",
      "group": "PERSON"
    },
    {
      "id": "山寨聚義廳",
      "label": "山寨聚義廳",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 晁蓋、朱貴等眾頭領在此筵宴。財物在此打開並分配。",
      "group": "LOCATION"
    },
    {
      "id": "簸箕掌",
      "label": "簸箕掌",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 在山寨聚義廳坐定。",
      "group": "PERSON"
    },
    {
      "id": "栲栳圈",
      "label": "栲栳圈",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 在山寨聚義廳坐定。",
      "group": "PERSON"
    },
    {
      "id": "掌庫的小頭目",
      "label": "掌庫的小頭目",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 負責將財物收貯在庫，聽候支用。",
      "group": "PERSON"
    },
    {
      "id": "軍健",
      "label": "軍健",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被刺了字號，並分撥去各寨喂馬砍柴或看車切草。",
      "group": "PERSON"
    },
    {
      "id": "旱路",
      "label": "旱路",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 客商將從旱路經過。",
      "group": "LOCATION"
    },
    {
      "id": "金銀財物",
      "label": "金銀財物",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 朱頭領探聽到客商有金銀財物。",
      "group": "AGREEMENT"
    },
    {
      "id": "驢騾頭口",
      "label": "驢騾頭口",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 朱頭領探聽到客商有驢騾頭口。",
      "group": "AGREEMENT"
    },
    {
      "id": "車子",
      "label": "車子",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 朱頭領探聽到客商有車子。",
      "group": "AGREEMENT"
    },
    {
      "id": "行李",
      "label": "行李",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 客商遺下了行李。",
      "group": "AGREEMENT"
    },
    {
      "id": "白銀",
      "label": "白銀",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 晁蓋賞了小嘍囉一錠白銀。",
      "group": "AGREEMENT"
    },
    {
      "id": "酒果",
      "label": "酒果",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 晁蓋叫將了酒果下山來。",
      "group": "AGREEMENT"
    },
    {
      "id": "財物",
      "label": "財物",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 晁蓋等人打劫得財物。掌庫的箇小頭目將財物收貯在庫。",
      "group": "AGREEMENT"
    },
    {
      "id": "綵帛衣服",
      "label": "綵帛衣服",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 打劫來的綵帛衣服堆在一邊。",
      "group": "AGREEMENT"
    },
    {
      "id": "行貨",
      "label": "行貨",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 打劫來的行貨等物堆在一邊。",
      "group": "AGREEMENT"
    },
    {
      "id": "金銀寶貝",
      "label": "金銀寶貝",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 打劫來的金銀寶貝堆在正面。",
      "group": "AGREEMENT"
    },
    {
      "id": "軍隊",
      "label": "軍隊",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 晁蓋等人贏得了官軍。",
      "group": "PERSON"
    },
    {
      "id": "人馬船隻",
      "label": "人馬船隻",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 晁蓋等人收得人馬船隻。",
      "group": "AGREEMENT"
    },
    {
      "id": "宋押司",
      "label": "宋押司",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被晁蓋提及，是晁蓋和弟兄們性命所出，被認為是仁義之人。",
      "group": "PERSON"
    },
    {
      "id": "朱都頭",
      "label": "朱都頭",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被晁蓋提及，是晁蓋和弟兄們性命所出。",
      "group": "PERSON"
    },
    {
      "id": "白勝",
      "label": "白勝",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 陷在濟州大牢裡，需要被營救。",
      "group": "PERSON"
    },
    {
      "id": "梁山泊",
      "label": "梁山泊",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 被提及為晁蓋等人的據點，曾殺死官軍，生擒黃安，因水路複雜難以收捕。 <SEP> 梁山泊",
      "group": "LOCATION"
    },
    {
      "id": "濟州",
      "label": "濟州",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 白勝陷在該地的牢獄中，該地太守對於梁山泊的事件感到苦惱。",
      "group": "LOCATION"
    },
    {
      "id": "鄆城縣",
      "label": "鄆城縣",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 晁蓋計畫派人前往該縣。 <SEP> 鄆城縣",
      "group": "LOCATION"
    },
    {
      "id": "何濤",
      "label": "何濤",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 曾折損人馬，逃回後被割了兩隻耳朵，正在家將息。",
      "group": "PERSON"
    },
    {
      "id": "太師府",
      "label": "太師府",
      "title": "<b>類型:</b> ORGANIZATION<br><b>描述:</b> 濟州府太守向該府的幹辦報告事務。",
      "group": "ORGANIZATION"
    },
    {
      "id": "中書省",
      "label": "中書省",
      "title": "<b>類型:</b> ORGANIZATION<br><b>描述:</b> 發出文書，指示更替官員，並申呈牌仰附近州郡併力剿捕梁山泊。",
      "group": "ORGANIZATION"
    },
    {
      "id": "蔡太師",
      "label": "蔡太師",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 將收捕梁山泊的勾當交辦給新官。",
      "group": "PERSON"
    },
    {
      "id": "宗府尹",
      "label": "宗府尹",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 新到任的濟州府尹，聽聞梁山泊的情況後感到憂慮，並著手準備收捕梁山泊好漢。",
      "group": "PERSON"
    },
    {
      "id": "東京",
      "label": "東京",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 舊太守在處理完濟州事務後，自回該地聽罪。 <SEP> 閻婆一家從東京來",
      "group": "LOCATION"
    },
    {
      "id": "梁山泊眾頭領",
      "label": "梁山泊眾頭領",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被吳用調撥去辦事。",
      "group": "PERSON"
    },
    {
      "id": "府尹",
      "label": "府尹",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 即濟州府太守，對梁山泊事件感到苦惱，並向上級報告。",
      "group": "PERSON"
    },
    {
      "id": "幹辦",
      "label": "幹辦",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 在太師府工作，聽取府尹的報告。",
      "group": "PERSON"
    },
    {
      "id": "團練使",
      "label": "團練使",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被差遣帶領軍兵前去追捉梁山泊好漢，但失陷。",
      "group": "PERSON"
    },
    {
      "id": "本府捕盜官",
      "label": "本府捕盜官",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被差遣帶領軍兵前去追捉梁山泊好漢，但失陷。",
      "group": "PERSON"
    },
    {
      "id": "承局",
      "label": "承局",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 向太守報告有新官到來。",
      "group": "PERSON"
    },
    {
      "id": "新官",
      "label": "新官",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 到任濟州，從舊太守手中接過牌印、錢糧等項，並開始準備收捕梁山泊好漢。",
      "group": "PERSON"
    },
    {
      "id": "舊太守",
      "label": "舊太守",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 向新官講述梁山泊賊盜的浩大，隨後收拾行李回東京聽罪。",
      "group": "PERSON"
    },
    {
      "id": "鎮守濟州的軍官",
      "label": "鎮守濟州的軍官",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被新調來鎮守濟州，與新官商議招軍買馬等事宜。",
      "group": "PERSON"
    },
    {
      "id": "悍勇民夫",
      "label": "悍勇民夫",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被招募以準備收捕梁山泊好漢。",
      "group": "PERSON"
    },
    {
      "id": "智謀賢士",
      "label": "智謀賢士",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 被招募以準備收捕梁山泊好漢。",
      "group": "PERSON"
    },
    {
      "id": "屬縣",
      "label": "屬縣",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 被通知收剿梁山泊，並被要求守禦本境。",
      "group": "LOCATION"
    },
    {
      "id": "本州孔目",
      "label": "本州孔目",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 本州孔目",
      "group": "PERSON"
    },
    {
      "id": "宋江",
      "label": "宋江",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 鄆城縣知縣差人文書，被指示疊成文案，行下各鄉村，一體守備，並收到晁蓋等眾人犯下大罪，劫了「生辰綱」，殺了做公的，傷了何觀察，又損害了許多官軍人馬，又把黃安活捉上山的事實，並被吩咐貼書後司張文遠將此文書立成文案，行下各鄉各保，後在路上遇到王婆，並聽說了閻婆和其女兒婆惜的困境，後答應借筆硯寫帖子，並給予十兩銀子作為使用錢 <SEP> 宋江是一個「押司」，被閻婆稱呼。",
      "group": "PERSON"
    },
    {
      "id": "張文遠",
      "label": "張文遠",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 貼書後司，負責將文書立成文案，行下各鄉各保",
      "group": "PERSON"
    },
    {
      "id": "王婆",
      "label": "王婆",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 做媒的，引著一箇婆子，向宋江說閻婆及其女兒婆惜的情況，並希望宋江幫忙",
      "group": "PERSON"
    },
    {
      "id": "閻婆",
      "label": "閻婆",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 來自東京，夫主閻公已死，有箇女兒婆惜，因來山東投奔一箇官人不著，流落在此鄆城縣，丈夫閻公因害時疫死了，無錢津送，央及王婆做媒，後向宋江求助，並表示將做驢做馬報答宋江 <SEP> 稱呼宋江為「押司」，與宋江見面。",
      "group": "PERSON"
    },
    {
      "id": "閻公",
      "label": "閻公",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 閻婆的丈夫，來自東京，是箇好唱的人，教得女兒婆惜也會唱諸般耍令，後因害時疫死了",
      "group": "PERSON"
    },
    {
      "id": "婆惜",
      "label": "婆惜",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 閻婆的女兒，年方一十八歲，頗有些顏色，隨父母從東京來，會唱諸般耍令",
      "group": "PERSON"
    },
    {
      "id": "陳三郎",
      "label": "陳三郎",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 鄆城縣東街的店家，王婆去他家取棺材",
      "group": "PERSON"
    },
    {
      "id": "生辰綱",
      "label": "生辰綱",
      "title": "<b>類型:</b> AGREEMENT<br><b>描述:</b> 晁蓋等眾人劫掠的目標",
      "group": "AGREEMENT"
    },
    {
      "id": "押司",
      "label": "押司",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 宋江的職位，王婆稱呼宋江為「押司」",
      "group": "PERSON"
    },
    {
      "id": "山東",
      "label": "山東",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 閻婆一家來山東投奔官人",
      "group": "LOCATION"
    },
    {
      "id": "鄆城縣後",
      "label": "鄆城縣後",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 閻婆一家權住在鄆城縣後一箇僻靜巷內",
      "group": "LOCATION"
    },
    {
      "id": "縣東",
      "label": "縣東",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 陳三郎家位於縣東街",
      "group": "LOCATION"
    },
    {
      "id": "縣東街",
      "label": "縣東街",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 陳三郎家位於縣東街",
      "group": "LOCATION"
    },
    {
      "id": "書後司",
      "label": "書後司",
      "title": "<b>類型:</b> LOCATION<br><b>描述:</b> 張文遠是書後司的人",
      "group": "LOCATION"
    },
    {
      "id": "長爺娘",
      "label": "長爺娘",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 閻婆用來形容報答宋江的人",
      "group": "PERSON"
    },
    {
      "id": "官軍人馬",
      "label": "官軍人馬",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 晁蓋等眾人劫掠「生辰綱」時被損害",
      "group": "PERSON"
    },
    {
      "id": "二手書後司",
      "label": "二手書後司",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 張文遠是二手書後司的人",
      "group": "PERSON"
    },
    {
      "id": "妥當",
      "label": "妥當",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 閻婆用來形容報答宋江的人",
      "group": "PERSON"
    },
    {
      "id": "長輩",
      "label": "長輩",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 閻婆用來形容報答宋江的人",
      "group": "PERSON"
    },
    {
      "id": "公",
      "label": "公",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 「公」看見了宋江。",
      "group": "PERSON"
    },
    {
      "id": "善心",
      "label": "善心",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 宋江的心地變壞了。",
      "group": "PERSON"
    },
    {
      "id": "惡心",
      "label": "惡心",
      "title": "<b>類型:</b> PERSON<br><b>描述:</b> 宋江的心地變壞了。",
      "group": "PERSON"
    }
  ],
  "edges": [
    {
      "from": "林沖",
      "to": "王倫",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 林沖殺了王倫。"
    },
    {
      "from": "晁蓋",
      "to": "林沖",
      "title": "<b>權重:</b> 4<br><b>描述:</b> 林沖欲立晁蓋為山寨之主，並扶晁蓋坐了第一位。 <SEP> 林沖堅持讓晁蓋坐第四位。 <SEP> 晁蓋與林沖飲酒至天明。 <SEP> 林沖推讓晁蓋為尊。"
    },
    {
      "from": "吳用",
      "to": "林沖",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 林沖請吳用擔任軍師，執掌兵權，調用將校，坐第二位。"
    },
    {
      "from": "公孫勝",
      "to": "林沖",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 林沖請公孫勝坐第三位。"
    },
    {
      "from": "吳用",
      "to": "晁蓋",
      "title": "<b>權重:</b> 3<br><b>描述:</b> 晁蓋、吳用、公孫勝三人一同勸林沖坐第四位，表示若林沖再推讓，三人便告退。 <SEP> 晁蓋與吳用飲酒至天明。 <SEP> 晁蓋與吳用討論並依賴吳用的計策。"
    },
    {
      "from": "公孫勝",
      "to": "晁蓋",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 晁蓋、吳用、公孫勝三人一同勸林沖坐第四位，表示若林沖再推讓，三人便告退。 <SEP> 晁蓋與公孫勝飲酒至天明。"
    },
    {
      "from": "公孫勝",
      "to": "吳用",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋、吳用、公孫勝三人一同勸林沖坐第四位，表示若林沖再推讓，三人便告退。"
    },
    {
      "from": "宋萬",
      "to": "杜遷",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 杜遷和宋萬因為本事低微，選擇做人情，請劉唐、阮小二、阮小五、阮小七、杜遷、宋萬、朱貴依序坐了第五位到第十一位。"
    },
    {
      "from": "山寨",
      "to": "林沖",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 林沖殺了王倫，並與晁蓋、吳用、公孫勝等人共聚於此。"
    },
    {
      "from": "山寨",
      "to": "王倫",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 王倫是山寨原首領，因心胸狹隘、嫉賢妒能而被林沖殺害。"
    },
    {
      "from": "山寨",
      "to": "晁蓋",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋被推舉為山寨之主，在此處與眾人聚義。"
    },
    {
      "from": "吳用",
      "to": "山寨",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 吳用被安排擔任軍師，執掌兵權，調用將校。"
    },
    {
      "from": "公孫勝",
      "to": "山寨",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 公孫勝在此處與眾人聚義，並展現其善用兵的才能。"
    },
    {
      "from": "大寨",
      "to": "林沖",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 林沖派人去大寨擺設筵席。"
    },
    {
      "from": "林沖",
      "to": "聚義廳",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 林沖等人護送晁蓋來到聚義廳。"
    },
    {
      "from": "晁蓋",
      "to": "聚義廳",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋在聚義廳的正中第一位交椅上坐定。"
    },
    {
      "from": "吳用",
      "to": "聚義廳",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 吳用在聚義廳的第二位坐定。"
    },
    {
      "from": "公孫勝",
      "to": "聚義廳",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 公孫勝在聚義廳的第三位坐定。"
    },
    {
      "from": "吳用",
      "to": "孫吳兵法",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 吳用讀過孫吳兵法。"
    },
    {
      "from": "大寨",
      "to": "小嘍囉",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 小嘍囉去大寨裏擺下筵席。"
    },
    {
      "from": "小嘍囉",
      "to": "林沖",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 林沖使小嘍囉去大寨裏擺下筵席。"
    },
    {
      "from": "林沖",
      "to": "聚義廳前",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 林沖等一行人，到得聚義廳前。"
    },
    {
      "from": "晁蓋",
      "to": "聚義廳前",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋到聚義廳前，下了馬。"
    },
    {
      "from": "阮小二",
      "to": "黃安",
      "title": "<b>權重:</b> 3<br><b>描述:</b> 黃安下令追捕阮小二、阮小五、阮小七 <SEP> 黃安的手下船隻被阮小二等人的船隻殺下水裏，船都被奪去了 <SEP> 阮小二等三人在水面上出現，黃安下令追捕"
    },
    {
      "from": "阮小五",
      "to": "黃安",
      "title": "<b>權重:</b> 3<br><b>描述:</b> 黃安下令追捕阮小二、阮小五、阮小七 <SEP> 黃安的手下船隻被阮小二等人的船隻殺下水裏，船都被奪去了 <SEP> 阮小五等三人在水面上出現，黃安下令追捕"
    },
    {
      "from": "阮小七",
      "to": "黃安",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 黃安下令追捕阮小二、阮小五、阮小七 <SEP> 阮小七等三人在水面上出現，黃安下令追捕"
    },
    {
      "from": "石碣村湖蕩",
      "to": "黃安",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 黃安就石碣村湖蕩調撥船隻"
    },
    {
      "from": "泊子",
      "to": "黃安",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 黃安分開船隻作兩路來取泊子"
    },
    {
      "from": "金沙灘",
      "to": "黃安",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 黃安殺奔金沙灘來 <SEP> 黃安殺奔金沙灘來，但發現阮小二等人"
    },
    {
      "from": "蘆花蕩",
      "to": "黃安",
      "title": "<b>權重:</b> 3<br><b>描述:</b> 黃安指示將船隻分作兩路，去蘆花蕩中灣住 <SEP> 黃安聽聞阮小二等人的船隻從蘆花蕩邊出現"
    },
    {
      "from": "捕盜官",
      "to": "石碣村湖蕩",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 捕盜官就石碣村湖蕩調撥船隻"
    },
    {
      "from": "捕盜官",
      "to": "泊子",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 捕盜官分開船隻作兩路來取泊子"
    },
    {
      "from": "阮小二",
      "to": "阮小五",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小二、阮小五、阮小七均出現在同一批船上，打扮相同"
    },
    {
      "from": "阮小七",
      "to": "阮小二",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小二、阮小五、阮小七均出現在同一批船上，打扮相同"
    },
    {
      "from": "阮小七",
      "to": "阮小五",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小二、阮小五、阮小七均出現在同一批船上，打扮相同"
    },
    {
      "from": "金沙灘",
      "to": "阮小二",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小二等三人的船隻在接近金沙灘時被黃安發現"
    },
    {
      "from": "金沙灘",
      "to": "阮小五",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小五等三人的船隻在接近金沙灘時被黃安發現"
    },
    {
      "from": "金沙灘",
      "to": "阮小七",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小七等三人的船隻在接近金沙灘時被黃安發現"
    },
    {
      "from": "蘆花蕩",
      "to": "阮小二",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小二等三人的船隻在蘆花蕩邊出現，並向其逃去"
    },
    {
      "from": "蘆花蕩",
      "to": "阮小五",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小五等三人的船隻在蘆花蕩邊出現，並向其逃去"
    },
    {
      "from": "蘆花蕩",
      "to": "阮小七",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小七等三人的船隻在蘆花蕩邊出現，並向其逃去"
    },
    {
      "from": "船隻",
      "to": "黃安",
      "title": "<b>權重:</b> 4<br><b>描述:</b> 黃安帶領人馬上船 <SEP> 黃安把船分作兩路，去那蘆花蕩中灣住 <SEP> 黃安的手下船隻被殺下水裏，船都被奪去了"
    },
    {
      "from": "船隻",
      "to": "阮小二",
      "title": "<b>權重:</b> 3<br><b>描述:</b> 阮小二等人的船隻被黃安追趕，並被黃安的手下殺下水裏，船都被奪去了 <SEP> 黃安看到水面上遠遠地三隻船，船上坐著阮小二、阮小五、阮小七 <SEP> 阮小二等人的船隻被黃安的手下殺下水裏，船都被奪去了"
    },
    {
      "from": "船隻",
      "to": "阮小五",
      "title": "<b>權重:</b> 3<br><b>描述:</b> 阮小五等人的船隻被黃安追趕，並被黃安的手下殺下水裏，船都被奪去了 <SEP> 黃安看到水面上遠遠地三隻船，船上坐著阮小二、阮小五、阮小七 <SEP> 阮小五等人的船隻被黃安的手下殺下水裏，船都被奪去了"
    },
    {
      "from": "船隻",
      "to": "阮小七",
      "title": "<b>權重:</b> 3<br><b>描述:</b> 阮小七等人的船隻被黃安追趕，並被黃安的手下殺下水裏，船都被奪去了 <SEP> 黃安看到水面上遠遠地三隻船，船上坐著阮小二、阮小五、阮小七 <SEP> 阮小七等人的船隻被黃安的手下殺下水裏，船都被奪去了"
    },
    {
      "from": "團練使",
      "to": "黃安",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 團練使黃安"
    },
    {
      "from": "石碣村湖蕩",
      "to": "船隻",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 濟州府尹就石碣村湖蕩調撥船隻"
    },
    {
      "from": "泊子",
      "to": "船隻",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 濟州府尹分開船隻作兩路來取泊子"
    },
    {
      "from": "船隻",
      "to": "金沙灘",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 黃安殺奔金沙灘來"
    },
    {
      "from": "留客住",
      "to": "阮小二",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小二手中拿著留客住"
    },
    {
      "from": "留客住",
      "to": "阮小五",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小五手中拿著留客住"
    },
    {
      "from": "留客住",
      "to": "阮小七",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小七手中拿著留客住"
    },
    {
      "from": "紅羅繡襖",
      "to": "阮小二",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小二身穿紅羅繡襖"
    },
    {
      "from": "紅羅繡襖",
      "to": "阮小五",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小五身穿紅羅繡襖"
    },
    {
      "from": "紅羅繡襖",
      "to": "阮小七",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小七身穿紅羅繡襖"
    },
    {
      "from": "絳紅巾",
      "to": "阮小二",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小二頭戴絳紅巾"
    },
    {
      "from": "絳紅巾",
      "to": "阮小五",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小五頭戴絳紅巾"
    },
    {
      "from": "絳紅巾",
      "to": "阮小七",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小七頭戴絳紅巾"
    },
    {
      "from": "阮小二",
      "to": "青狐皮",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小二拿起青狐皮遮箭矢"
    },
    {
      "from": "阮小五",
      "to": "青狐皮",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小五拿起青狐皮遮箭矢"
    },
    {
      "from": "阮小七",
      "to": "青狐皮",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小七拿起青狐皮遮箭矢"
    },
    {
      "from": "小船",
      "to": "黃安",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 小船飛也似划來向黃安報道"
    },
    {
      "from": "小船",
      "to": "蘆花蕩邊",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 他們蘆花蕩邊，尋得這隻小船兒，逕來報與團練"
    },
    {
      "from": "蘆花蕩邊",
      "to": "黃安",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 黃安聽聞小船從蘆花蕩邊來報"
    },
    {
      "from": "蘆花蕩邊",
      "to": "阮小二",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小二等人的船隻在蘆花蕩邊"
    },
    {
      "from": "蘆花蕩邊",
      "to": "阮小五",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小五等人的船隻在蘆花蕩邊"
    },
    {
      "from": "蘆花蕩邊",
      "to": "阮小七",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 阮小七等人的船隻在蘆花蕩邊"
    },
    {
      "from": "晁蓋",
      "to": "朱頭領",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 朱頭領向晁蓋匯報了客商的消息。"
    },
    {
      "from": "三阮",
      "to": "晁蓋",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋派三阮前去走一遭。"
    },
    {
      "from": "三阮",
      "to": "朱貴酒店",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 三阮將船載過朱貴酒店。"
    },
    {
      "from": "劉唐",
      "to": "晁蓋",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋派劉唐帶領一百餘人前去接應。"
    },
    {
      "from": "晁蓋",
      "to": "杜遷",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋派杜遷帶領五十餘人前去接應。"
    },
    {
      "from": "宋萬",
      "to": "晁蓋",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋派宋萬帶領五十餘人前去接應。"
    },
    {
      "from": "客商",
      "to": "朱頭領",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 朱頭領探聽到客商的行蹤。"
    },
    {
      "from": "三阮",
      "to": "客商",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 三阮等人行動的目標是打劫客商的金帛財物。"
    },
    {
      "from": "劉唐",
      "to": "客商",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 劉唐等人行動的目標是打劫客商的金帛財物。"
    },
    {
      "from": "客商",
      "to": "杜遷",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 杜遷等人行動的目標是打劫客商的金帛財物。"
    },
    {
      "from": "宋萬",
      "to": "客商",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 宋萬等人行動的目標是打劫客商的金帛財物。"
    },
    {
      "from": "晁蓋",
      "to": "黃安",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋提及捉了黃安。"
    },
    {
      "from": "山寨聚義廳",
      "to": "晁蓋",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋等人到山寨聚義廳筵宴。"
    },
    {
      "from": "山寨聚義廳",
      "to": "朱貴",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 朱貴被請到山寨聚義廳筵宴。"
    },
    {
      "from": "晁蓋",
      "to": "王倫",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋等人曾投托王倫帳下。"
    },
    {
      "from": "晁蓋",
      "to": "軍健",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋將軍健刺字號並分撥。"
    },
    {
      "from": "張氏",
      "to": "晁蓋",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 張氏與同夥人等被晁蓋等人打劫。"
    },
    {
      "from": "晁蓋",
      "to": "王氏",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 王氏與同夥人等被晁蓋等人打劫。"
    },
    {
      "from": "晁蓋",
      "to": "李氏",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 李氏與同夥人等被晁蓋等人打劫。"
    },
    {
      "from": "小嘍囉",
      "to": "朱頭領",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 小嘍囉向晁蓋匯報了朱頭領的消息。"
    },
    {
      "from": "客商",
      "to": "小嘍囉",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 小嘍囉提及客商逃命。"
    },
    {
      "from": "晁蓋",
      "to": "杜遷、宋萬",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋派杜遷、宋萬帶領五十餘人下山接應。"
    },
    {
      "from": "晁蓋",
      "to": "簸箕掌",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋與簸箕掌等人在山寨聚義廳坐定。"
    },
    {
      "from": "晁蓋",
      "to": "栲栳圈",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋與栲栳圈等人在山寨聚義廳坐定。"
    },
    {
      "from": "掌庫的小頭目",
      "to": "財物",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 掌庫的小頭目負責將財物收貯在庫。 <SEP> 掌庫的小頭目將財物收貯在庫。"
    },
    {
      "from": "客商",
      "to": "旱路",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 客商將經過旱路。"
    },
    {
      "from": "朱頭領",
      "to": "金銀財物",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 朱頭領探聽到客商有金銀財物。"
    },
    {
      "from": "朱頭領",
      "to": "驢騾頭口",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 朱頭領探聽到客商有驢騾頭口。"
    },
    {
      "from": "朱頭領",
      "to": "車子",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 朱頭領探聽到客商有車子。"
    },
    {
      "from": "客商",
      "to": "行李",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 客商遺下了行李。 <SEP> 客商撇下了行李。"
    },
    {
      "from": "晁蓋",
      "to": "白銀",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋賞了小嘍囉一錠白銀。"
    },
    {
      "from": "晁蓋",
      "to": "酒果",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋叫將了酒果下山來。"
    },
    {
      "from": "晁蓋",
      "to": "財物",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 晁蓋等人打劫得財物。 <SEP> 晁蓋叫掌庫的箇小頭目將財物收貯在庫。"
    },
    {
      "from": "晁蓋",
      "to": "綵帛衣服",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 打劫來的綵帛衣服堆在一邊。"
    },
    {
      "from": "晁蓋",
      "to": "行貨",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 打劫來的行貨等物堆在一邊。"
    },
    {
      "from": "晁蓋",
      "to": "金銀寶貝",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 打劫來的金銀寶貝堆在正面。"
    },
    {
      "from": "晁蓋",
      "to": "軍隊",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋等人贏得了官軍。"
    },
    {
      "from": "人馬船隻",
      "to": "晁蓋",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋等人收得人馬船隻。"
    },
    {
      "from": "小嘍囉",
      "to": "金銀財物",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 小嘍囉匯報朱頭領得了金銀財物。"
    },
    {
      "from": "小嘍囉",
      "to": "驢騾頭口",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 小嘍囉匯報朱頭領得了驢騾頭口。"
    },
    {
      "from": "小嘍囉",
      "to": "車子",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 小嘍囉匯報朱頭領得了車子。"
    },
    {
      "from": "客商",
      "to": "車子",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 客商撇下了車子。"
    },
    {
      "from": "客商",
      "to": "驢騾頭口",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 客商撇下了驢騾頭口。"
    },
    {
      "from": "掌庫的小頭目",
      "to": "綵帛衣服",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 掌庫的小頭目將綵帛衣服收貯在庫。"
    },
    {
      "from": "掌庫的小頭目",
      "to": "行貨",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 掌庫的小頭目將行貨收貯在庫。"
    },
    {
      "from": "掌庫的小頭目",
      "to": "金銀寶貝",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 掌庫的小頭目將金銀寶貝收貯在庫。"
    },
    {
      "from": "宋押司",
      "to": "晁蓋",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋認為自己的性命和富貴安樂源於宋押司。"
    },
    {
      "from": "晁蓋",
      "to": "朱都頭",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋認為自己的性命源於朱都頭。"
    },
    {
      "from": "晁蓋",
      "to": "白勝",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋認為需要營救陷在濟州大牢裡的白勝。"
    },
    {
      "from": "晁蓋",
      "to": "梁山泊",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋是梁山泊的首領。"
    },
    {
      "from": "吳用",
      "to": "白勝",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 吳用提出營救白勝的計畫。"
    },
    {
      "from": "吳用",
      "to": "梁山泊",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 吳用是梁山泊的軍師，參與調撥事務。"
    },
    {
      "from": "濟州",
      "to": "白勝",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 白勝被囚禁在濟州的大牢裡。"
    },
    {
      "from": "梁山泊",
      "to": "黃安",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 梁山泊殺死官軍並生擒了黃安。"
    },
    {
      "from": "濟州府",
      "to": "黃安",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 黃安的手下逃回，向濟州府太守報告了梁山泊的情況。"
    },
    {
      "from": "何濤",
      "to": "濟州府",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 何濤是濟州府的人，曾因梁山泊事件折損人馬並受傷。"
    },
    {
      "from": "太師府",
      "to": "濟州府",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 濟州府太守向太師府幹辦報告梁山泊的事件。"
    },
    {
      "from": "梁山泊",
      "to": "濟州府",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 梁山泊的事件對濟州府太守造成了困擾。"
    },
    {
      "from": "太師府",
      "to": "蔡太師",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 太師府與蔡太師有關聯，蔡太師將收捕梁山泊的任務交辦。"
    },
    {
      "from": "中書省",
      "to": "宗府尹",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 中書省發出文書，宗府尹是新到任的官員。"
    },
    {
      "from": "中書省",
      "to": "梁山泊",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 中書省轉行牌仰附近州郡，併力剿捕梁山泊。"
    },
    {
      "from": "宗府尹",
      "to": "蔡太師",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 蔡太師將收捕梁山泊的勾當交辦給宗府尹。"
    },
    {
      "from": "宗府尹",
      "to": "梁山泊",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 宗府尹到任後，開始準備收捕梁山泊好漢。"
    },
    {
      "from": "東京",
      "to": "舊太守",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 舊太守在處理完濟州事務後，返回東京聽罪。 <SEP> 舊太守收拾行李自回東京聽罪。"
    },
    {
      "from": "濟州府",
      "to": "舊太守",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 舊太守在處理完濟州府事務後離開。"
    },
    {
      "from": "吳用",
      "to": "梁山泊眾頭領",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 吳用調撥梁山泊眾頭領去辦事。"
    },
    {
      "from": "府尹",
      "to": "濟州府",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 府尹是濟州府的太守。"
    },
    {
      "from": "幹辦",
      "to": "府尹",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 府尹向太師府的幹辦報告梁山泊的事件。"
    },
    {
      "from": "府尹",
      "to": "黃安",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 府尹聽手下黃安的軍人報告梁山泊情況。"
    },
    {
      "from": "團練使",
      "to": "府尹",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 府尹差遣團練使帶兵追捉梁山泊好漢。"
    },
    {
      "from": "府尹",
      "to": "本府捕盜官",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 府尹差遣本府捕盜官帶兵追捉梁山泊好漢。"
    },
    {
      "from": "府尹",
      "to": "承局",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 承局向府尹報告新官到來。"
    },
    {
      "from": "府尹",
      "to": "新官",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 新官到來，與府尹會面並交割公務。"
    },
    {
      "from": "府尹",
      "to": "舊太守",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 舊太守向新任的府尹（即新官）講述梁山泊情況。"
    },
    {
      "from": "新官",
      "to": "濟州",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 新官到任鎮守濟州。"
    },
    {
      "from": "新官",
      "to": "鎮守濟州的軍官",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 新官請來鎮守濟州的軍官商議對策。"
    },
    {
      "from": "悍勇民夫",
      "to": "新官",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 新官招募悍勇民夫以收捕梁山泊好漢。"
    },
    {
      "from": "新官",
      "to": "智謀賢士",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 新官招募智謀賢士以收捕梁山泊好漢。"
    },
    {
      "from": "新官",
      "to": "梁山泊",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 新官準備收捕梁山泊好漢。"
    },
    {
      "from": "中書省",
      "to": "新官",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 新官向上申呈中書省，轉發剿捕梁山泊的命令。"
    },
    {
      "from": "屬縣",
      "to": "新官",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 新官下文書給屬縣，知會收剿梁山泊。"
    },
    {
      "from": "梁山泊",
      "to": "舊太守",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 舊太守向新官講述梁山泊賊盜浩大。"
    },
    {
      "from": "梁山泊",
      "to": "鎮守濟州的軍官",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 鎮守濟州的軍官與新官商議收捕梁山泊好漢。"
    },
    {
      "from": "梁山泊",
      "to": "鄆城縣",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 鄆城縣的守禦人員需要防備梁山泊的賊人"
    },
    {
      "from": "宋江",
      "to": "鄆城縣",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 鄆城縣知縣指示宋江疊成文案，行下各鄉村，一體守備"
    },
    {
      "from": "宋江",
      "to": "晁蓋",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 宋江得知晁蓋等眾人犯下劫掠生辰綱等罪行 <SEP> 宋江在心裡思考關於晁蓋落草的事。"
    },
    {
      "from": "宋江",
      "to": "張文遠",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 宋江吩咐張文遠將文書立成文案，行下各鄉各保"
    },
    {
      "from": "宋江",
      "to": "王婆",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 王婆在路上攔住宋江，並向他介紹閻婆及其困境 <SEP> 王婆向宋江求助，希望他幫助閻婆"
    },
    {
      "from": "宋江",
      "to": "閻婆",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 宋江聽聞閻婆的困境後，同意幫助她，借筆硯寫帖子，並給予十兩銀子作為使用錢 <SEP> 閻婆看到宋江並與他打招呼。"
    },
    {
      "from": "宋江",
      "to": "陳三郎",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 宋江指示王婆去陳三郎家取棺材"
    },
    {
      "from": "婆惜",
      "to": "閻婆",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 婆惜是閻婆的女兒"
    },
    {
      "from": "閻公",
      "to": "閻婆",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 閻公是閻婆的丈夫，已死 <SEP> 閻公是閻婆的丈夫"
    },
    {
      "from": "婆惜",
      "to": "閻公",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 閻公是婆惜的父親，已死 <SEP> 婆惜是閻公的女兒"
    },
    {
      "from": "王婆",
      "to": "閻婆",
      "title": "<b>權重:</b> 2<br><b>描述:</b> 王婆受閻婆所託，向宋江求助 <SEP> 王婆是為閻婆做媒的"
    },
    {
      "from": "王婆",
      "to": "陳三郎",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 王婆去陳三郎家取棺材"
    },
    {
      "from": "宋江",
      "to": "黃安",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 宋江得知晁蓋等眾人劫掠生辰綱時活捉了黃安"
    },
    {
      "from": "宋江",
      "to": "押司",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 王婆稱呼宋江為押司"
    },
    {
      "from": "東京",
      "to": "閻婆",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 閻婆一家從東京來到此地"
    },
    {
      "from": "山東",
      "to": "閻婆",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 閻婆一家來到山東投奔官人"
    },
    {
      "from": "鄆城縣後",
      "to": "閻婆",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 閻婆一家權住在鄆城縣後一箇僻靜巷內"
    },
    {
      "from": "官軍人馬",
      "to": "晁蓋",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 晁蓋等眾人劫掠「生辰綱」時損害了官軍人馬"
    },
    {
      "from": "二手書後司",
      "to": "張文遠",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 張文遠是二手書後司的人"
    },
    {
      "from": "劉唐",
      "to": "宋江",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 宋江與劉唐告別。"
    },
    {
      "from": "公",
      "to": "宋江",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 「公」看到了宋江。"
    },
    {
      "from": "善心",
      "to": "宋江",
      "title": "<b>權重:</b> 1<br><b>描述:</b> 宋江原本的善心變成了惡心。"
    }
  ]
};
      let network = null; // To hold the network instance

      document.addEventListener("DOMContentLoaded", () => {
        const container = document.getElementById("mynetwork");
        const loadingBar = document.getElementById("loading-bar");
        const queryInput = document.getElementById("query-input");
        const queryButton = document.getElementById("query-button");
        const resultsContainer = document.getElementById("results-container");
        const resultsContent = document.getElementById("results-content");
        const resultsTitle = document.getElementById("results-title");

        const options = {
          nodes: {
            shape: "dot",
            size: 16,
            font: {
              size: 14,
              color: "#333",
            },
            borderWidth: 2,
            color: {
              border: "#2B7CE9",
              background: "#97C2FC",
              highlight: {
                border: "#FFC300",
                background: "#FFFFE0",
              },
            },
          },
          edges: {
            width: 2,
            color: {
              color: "#848484",
              highlight: "#FFC300",
            },
            arrows: {
              to: { enabled: true, scaleFactor: 0.5 },
            },
          },
          physics: {
            solver: "forceAtlas2Based",
            forceAtlas2Based: {
              gravitationalConstant: -50,
              centralGravity: 0.01,
              springLength: 200,
              springConstant: 0.08,
              avoidOverlap: 0.5,
            },
            stabilization: {
              iterations: 250,
            },
          },
          interaction: {
            hover: true,
            tooltipDelay: 200
          },
        };

        network = new vis.Network(container, graphData, options);

        network.on("stabilizationProgress", function (params) {
          const widthFactor = params.iterations / params.total;
          loadingBar.innerHTML =
            "Stabilizing... " + Math.round(widthFactor * 100) + "%";
        });

        network.once("stabilizationIterationsDone", function () {
          loadingBar.style.display = "none";
        });

        async function handleSearch() {
          const query = queryInput.value;
          if (!query) return;

          resultsContainer.style.display = "block";
          resultsTitle.textContent = "Searching...";
          resultsContent.innerHTML = '<div class="spinner"></div>';
          queryButton.disabled = true;

          try {
            const response = await fetch("http://localhost:3000/api/query", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({ query }),
            });

            if (!response.ok) {
              throw new Error(
                `Server responded with status: ${response.status}`
              );
            }

            const result = await response.json();

            resultsTitle.textContent = "Answer";
            resultsContent.innerHTML = `
                        <p>${result.answer.replace(/\n/g, "<br>")}</p>
                        <hr>
                        <h4>Evidence from Graph:</h4>
                        <pre>${
                          result.context || "No direct evidence found."
                        }</pre>
                    `;

            // Highlight relevant nodes
            if (result.entities && result.entities.length > 0) {
              network.unselectAll();
              network.selectNodes(result.entities, false);

              // Optional: Focus on the highlighted nodes
              network.focus(result.entities[0], {
                scale: 1.2,
                animation: true,
              });
            }
          } catch (error) {
            resultsTitle.textContent = "Error";
            resultsContent.innerHTML = `<p>Could not get a response. Is the server running? <br><small>${error.message}</small></p>`;
          } finally {
            queryButton.disabled = false;
          }
        }

        queryButton.addEventListener("click", handleSearch);
        queryInput.addEventListener("keyup", (event) => {
          if (event.key === "Enter") {
            handleSearch();
          }
        });
      });
    </script>
  </body>
</html>
